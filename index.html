<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JOORA</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <!-- Header (title + + button + search) -->
  <div id="header">
    <div class="header-inner">
      <div class="header-top">
        <h1>JOORA</h1>
      </div>
      <div id="searchBar">
        <input id="searchInput" type="text"
               placeholder="Search area (General Area / City or Village.)"
               autocomplete="off" />
      </div>
    </div>
  </div>

  <!-- Safety notice -->
  <div id="notice" class="hidden" role="status" aria-live="polite">
    ‚ö†Ô∏è Please don‚Äôt place pins while driving. And keep pins on land (not in the sea).
    <button id="noticeClose" aria-label="Dismiss notice">√ó</button>
  </div>
<!-- Landing screen -->
<section id="landing" class="screen">
  <div class="screen-inner">
    <h1 class="brand">JOORA</h1>
    <p class="tagline">Spot, share, and fix potholes near you.</p>

    <div class="actions">
      <button id="landingContinue" class="primary">Continue</button>
      <!-- Optional login -->
      <div class="auth">
        <input id="emailInput" type="email" placeholder="Email for magic link" />
        <button id="loginBtn" class="ghost">Send login link</button>
      </div>
    </div>
  </div>
</section>

<!-- Disclaimer overlay -->
<section id="disclaimer" class="screen hidden">
  <div class="screen-inner">
    <h2>Safety first üöß</h2>
    <p>Please do not use your phone while driving. Only place pins when it‚Äôs safe and legal to do so.</p>
    <p>By continuing, you agree to our community guidelines and understand that pin locations are user-generated.</p>
    <div class="actions">
      <button id="agreeBtn" class="primary">I Agree</button>
    </div>
  </div>
</section>

  <!-- Map -->
  <div id="map"></div>

<div id="fab">
  <button id="addPointBtn" aria-label="Add pothole">üï≥Ô∏è</button>
</div>
  <!-- Form panel -->
  <div id="formPanel" class="hidden">
    <h3>Add pothole details</h3>

    <div class="row">
      <label>Coordinates</label>
      <input id="coord" type="text" disabled />
    </div>

    <div class="row">
      <label for="roadSide">Where on the road?</label>
      <select id="roadSide">
        <option value="Left">Left</option>
        <option value="Middle" selected>Middle</option>
        <option value="Right">Right</option>
      </select>
    </div>

    <div class="row">
      <label for="details">More info</label>
      <textarea id="details" rows="3" placeholder="Near curb, in front of shop, next to manhole..."></textarea>
    </div>

    <div class="row">
      <label for="intensity">Intensity</label>
      <input id="intensity" type="range" min="1" max="5" step="1" value="3"/>
      <output id="intensityOut">3</output>
      <small>1 = bad, 5 = extreme</small>
    </div>

    <div class="actions">
      <button id="savePin" class="primary">Save</button>
      <button id="cancelPin" class="ghost">Cancel</button>
    </div>
  </div>

  <!-- Supabase SDK -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <!-- Turf.js (must load BEFORE your app code) -->
  <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>

  <!-- App config (put your real keys here) -->
  <script>
    window.SUPABASE_URL = "https://dwsfbdxkfxmbuguxxavt.supabase.co";
    window.SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR3c2ZiZHhrZnhtYnVndXh4YXZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NTgzMTUsImV4cCI6MjA3MDIzNDMxNX0.OG9v09eBKcx65qT1ZptqggfQCE6j3Vdaeamkdw8W3Yk";
  </script>

  <!-- App JS -->
  <script src="script.js"></script>

  <!-- Google Maps JS (Maps + Places) -->
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjPzKk4A3SHB28ON70pQH3p9-lam2d_4Y&libraries=places&callback=initMap">
  </script>
</body>
</html>
